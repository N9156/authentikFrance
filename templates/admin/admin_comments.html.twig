{% extends 'base.html.twig' %}

{% block title %}BackOffice | Gestion des commentaires{% endblock %}

{% block body %}

    <h2 class="text-center my-4"> BACKOFFICE | Gestion des commentaires</h2>
    <hr>

    {% for message in app.flashes('success') %}
    <div class="col-md-5 mt-4 mx-auto alert alert-success text-center">
        {{ message }}
    </div>
    {% endfor %}

    <a href="{{ path('admin') }}" class="btn btn-info btn-sm mb-2"><i class="fas fa-reply"> Retour au BACKOFFICE</i></a>

    <h4 class="mx-auto m3">{{ comments|length }} Commentaires</h4>

    <table class="table table-bordered text-center">

        <tr>
        {% for data in colonnes %}

            {% if data != 'id' %}
                <th>{{ data }}</th>
            {% endif %}

        {% endfor %}
        </tr>

        {% for data in comments %}

            <tr>
                {# <td class="align-middle">{{ data.id }}</td> #}

                <td class="align-middle">{{ data.author }}</td>

                <td class="align-middle">{{ data.content|raw }}</td>

                <td class="align-middle">{{ data.createdAt|date("d/m/Y à H:i:s") }}</td>

                <td class="align-middle"><a href="{{ path('admin_delete_comment', {'id': data.id}) }}" class="btn btn-outline-danger" onclick="return(confirm('Voulez-Vous supprimer définitivement ce commentaire ??'))"><i class="fas fa-trash"></i></a></td>
            </tr>
        {% endfor %}

    </table>

{% endblock %}